"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[4608],{7303:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var a=s(5893),t=s(1151);const r={},i="Splunk APIs",o={id:"splunk-apis",title:"Splunk APIs",description:"1. Querying Data:",source:"@site/docs/splunk-apis.md",sourceDirName:".",slug:"/splunk-apis",permalink:"/siglens-docs/splunk-apis",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"SigLens as Prometheus Data Source in Grafana",permalink:"/siglens-docs/grafana-integrations/prometheus-data-source"},next:{title:"PromQL APIs",permalink:"/siglens-docs/promql-apis"}},d={},c=[{value:"1. Querying Data:",id:"1-querying-data",level:3}];function l(n){const e={code:"code",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{id:"splunk-apis",children:"Splunk APIs"}),"\n",(0,a.jsx)(e.h3,{id:"1-querying-data",children:"1. Querying Data:"}),"\n",(0,a.jsx)(e.p,{children:"Send a splunk query via below endpoints and json body"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"POST /api/search\n"})}),"\n",(0,a.jsx)(e.p,{children:"Parameters:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"startEpoch"}),': Start time for the search query (e.g., "now-1h" means one hour ago).']}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"endEpoch"}),': End time for the search query (e.g., "now" means current time).']}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"searchText"}),": The actual search query using Splunk syntax."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"indexName:"}),' Specifies the index (like "traces") to search data from.']}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"queryLanguage"}),': Defines the query language used (in this case, "Splunk QL").']}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"Using raw json:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'# Send data in the request body to perform a search using Splunk QL.\ncurl -X POST http://localhost:5122/api/search \\\n-H "Content-Type: application/json" \\\n-d \'{\n  "startEpoch": "now-1h",\n  "endEpoch": "now",\n  "searchText": "*",\n  "indexName": "traces",\n  "queryLanguage": "Splunk QL"\n}\'\n\n'})}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'endpoint: api/search\nmethod: POST\n\nrequest : http://localhost:5122/api/search\nbody: \n{\n  "startEpoch": "now-1h",\n  "endEpoch": "now",\n  "searchText": "email",\n  "indexName": "traces",\n  "queryLanguage": "Splunk QL" \n}\n\nresponse: \n{\n    "hits": {\n        "totalMatched": {\n            "value": 25,\n            "relation": "eq"\n        },\n        "records": [\n            {\n                "dropped_attributes_count": 0,\n                "dropped_events_count": 0,\n                "dropped_links_count": 0,\n                "duration": 158167,\n                "end_time": 1739535202168818296,\n                "events": "null",\n                "kind": "SPAN_KIND_INTERNAL",\n                "links": "[]",\n                "name": "sinatra.render_template",\n                "parent_span_id": "b7d033279ad69e92",\n                "service": "email",\n                "sinatra.template_name": "layout",\n                "span_id": "8d8d932fed32fd32",\n                "start_time": 1739535202168660129,\n                "status": "STATUS_CODE_UNSET",\n                "timestamp": 1739535213733,\n                "trace_id": "cdd36b0b200f195ac0981e28ce7b3ff1",\n                "trace_state": ""\n            },\n            #Additional records...\n        ]\n    },\n    "aggregations": null,\n    "elapedTimeMS": 0,\n    "allColumns": [\n        "app.shipping.amount",\n        "parent_span_id",\n        "node_id",\n        #Additional Columns...\n    ],\n    "qtype": "logs-query",\n    "can_scroll_more": false,\n    "dashboardPanelId": "",\n    "columnsOrder": [\n        "app.ads.ad_request_type",\n        "app.ads.ad_response_type",\n        "app.ads.category",\n        #Additional Columns Order...\n    ]\n}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(l,{...n})}):l(n)}},1151:(n,e,s)=>{s.d(e,{Z:()=>o,a:()=>i});var a=s(7294);const t={},r=a.createContext(t);function i(n){const e=a.useContext(r);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),a.createElement(r.Provider,{value:e},n.children)}}}]);