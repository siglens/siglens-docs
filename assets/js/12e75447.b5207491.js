"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[4786],{4262:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>a});var s=t(5893),l=t(1151);const i={},o="Fluentd",r={id:"log-ingestion/fluentd",title:"Fluentd",description:"Ingesting logs into Siglens using Fluentd",source:"@site/docs/log-ingestion/fluentd.md",sourceDirName:"log-ingestion",slug:"/log-ingestion/fluentd",permalink:"/siglens-docs/log-ingestion/fluentd",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Logstash",permalink:"/siglens-docs/log-ingestion/logstash"},next:{title:"Filebeat",permalink:"/siglens-docs/log-ingestion/filebeat"}},d={},a=[{value:"1. Install Fluentd",id:"1-install-fluentd",level:2},{value:"2. Configure Fluentd",id:"2-configure-fluentd",level:2},{value:"Sample Configuration File",id:"sample-configuration-file",level:3},{value:"3. Run Fluentd",id:"3-run-fluentd",level:2}];function c(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"fluentd",children:"Fluentd"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.em,{children:"Ingesting logs into Siglens using Fluentd"})}),"\n",(0,s.jsx)(e.p,{children:"Fluentd is an open-source data collector that unifies data collection and consumption for better use and understanding of data. It's designed to handle various types of data sources with different types and formats, making it a popular choice for logging solutions."}),"\n",(0,s.jsx)(e.p,{children:"In this guide, we will walk through the process of using Fluentd to send logs to Siglens."}),"\n",(0,s.jsx)(e.h2,{id:"1-install-fluentd",children:"1. Install Fluentd"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Follow the instructions to install the Fluentd package from the ",(0,s.jsx)(e.a,{href:"https://docs.fluentd.org/installation",children:"official docs"}),"."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.fluentd.org/installation/install-by-deb#installing-fluent-package",children:"Debian/Ubuntu"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.fluentd.org/installation/obsolete-installation/treasure-agent-v4-installation/install-by-dmg-td-agent-v4",children:"macOS"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.fluentd.org/installation/install-by-msi",children:"Windows"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"2-configure-fluentd",children:"2. Configure Fluentd"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Create a Fluentd config file with the below ",(0,s.jsx)(e.a,{href:"#sample-configuration-file",children:"sample configuration"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["If you are looking for a sample log dataset you can download it from ",(0,s.jsx)(e.a,{href:"https://github.com/siglens/pub-datasets/releases/download/v1.0.0/2kevents.json.tar.gz",children:"here"})," and untar it."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"sample-configuration-file",children:"Sample Configuration File"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:'<source>\n  @type tail\n  path D:\\Siglens\\data\\2kevents.json\n  pos_file D:\\Siglens\\fluentd_logs\\2kevents.json.pos\n  tag my.logs\n  read_from_head true\n  <parse>\n    @type json\n  </parse>\n</source>\n\n<filter my.logs>\n  @type record_transformer\n  <record>\n    index "fluentd_http"\n  </record>\n</filter>\n\n<filter my.logs>\n  @type grep\n  <regexp>\n    key first_name\n    pattern /.+/  # Ensures first_name exists and is not empty\n  </regexp>\n</filter>\n\n<match my.logs>\n  @type http\n\n  endpoint http://127.0.0.1:8081/splunk/services/collector/event?source=fluentd_source\n  open_timeout 2\n  <format>\n    @type json\n  </format>\n  <buffer>\n    chunk_limit_records 1\n    flush_interval 10s\n  </buffer>\n</match>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"3-run-fluentd",children:"3. Run Fluentd"}),"\n",(0,s.jsxs)(e.p,{children:["Navigate to the Fluentd directory and run ",(0,s.jsx)(e.code,{children:"fluentd -c <<path-of-fluentd-config>>"}),". On Linux, prepend the command with ",(0,s.jsx)(e.code,{children:"sudo"}),". If using td-agent, replace ",(0,s.jsx)(e.code,{children:"fluentd"})," with ",(0,s.jsx)(e.code,{children:"td-agent"}),". On Windows, run the command as an Administrator."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Linux"}),":","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo fluentd -c /home/fluentd_config.conf\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Windows"}),": Open the fluentd command prompt as an Administrator and run","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"fluentd -c /home/fluentd_config.conf\n"})}),"\n"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},1151:(n,e,t)=>{t.d(e,{Z:()=>r,a:()=>o});var s=t(7294);const l={},i=s.createContext(l);function o(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);