"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[9478],{6670:(s,n,e)=>{e.r(n),e.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>c,frontMatter:()=>t,metadata:()=>l,toc:()=>r});var i=e(5893),a=e(1151);const t={},o="Logstash",l={id:"migration/elasticsearch/logstash",title:"Logstash",description:"Migrating from Elastic Search to Siglens using Logstash",source:"@site/docs/migration/elasticsearch/logstash.md",sourceDirName:"migration/elasticsearch",slug:"/migration/elasticsearch/logstash",permalink:"/siglens-docs/migration/elasticsearch/logstash",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Vector",permalink:"/siglens-docs/migration/elasticsearch/vector"},next:{title:"Fluentd",permalink:"/siglens-docs/migration/elasticsearch/fluentd"}},h={},r=[{value:"1. Install Logstash",id:"1-install-logstash",level:2},{value:"Install Logstash",id:"install-logstash",level:2},{value:"Linux based Systems",id:"linux-based-systems",level:3},{value:"Windows",id:"windows",level:3},{value:"JVM Options",id:"jvm-options",level:3},{value:"Append at the end of Logstash/config/jvm.options",id:"append-at-the-end-of-logstashconfigjvmoptions",level:4},{value:"2. Configure Logstash",id:"2-configure-logstash",level:2},{value:"Sample Configuration file",id:"sample-configuration-file",level:3},{value:"3. Run Logstash",id:"3-run-logstash",level:2},{value:"Linux based systems",id:"linux-based-systems-1",level:3},{value:"Windows",id:"windows-1",level:3}];function d(s){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"logstash",children:"Logstash"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Migrating from Elastic Search to Siglens using Logstash"})}),"\n",(0,i.jsx)(n.h2,{id:"1-install-logstash",children:"1. Install Logstash"}),"\n",(0,i.jsx)(n.h2,{id:"install-logstash",children:"Install Logstash"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Download this exact version of ",(0,i.jsxs)(n.a,{href:"https://www.elastic.co/downloads/past-releases/logstash-oss-7-9-3",children:["Logstash: ",(0,i.jsx)(n.code,{children:"logstash-oss-7.9.3"})]}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"linux-based-systems",children:"Linux based Systems"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo dpkg -i logstash-oss-7.9.3-amd64.deb\n# OR\ntar xzvf logstash-oss-7.9.3-linux-x86_64.tar.gz\n"})}),"\n",(0,i.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Download the Zip version of Logstash, extract its contents into the C drive, rename the directory to "Logstash", then open a PowerShell prompt as an Administrator and run the below commands to install Logstash as a Windows service'}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"PS > cd 'C:\\Logstash'\nPS C:\\Logstash> bin/logstash --version\n"})}),"\n",(0,i.jsx)(n.h3,{id:"jvm-options",children:"JVM Options"}),"\n",(0,i.jsx)(n.h4,{id:"append-at-the-end-of-logstashconfigjvmoptions",children:"Append at the end of Logstash/config/jvm.options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-options",children:"--add-opens java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n\n--add-opens java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n--add-opens java.base/java.security=ALL-UNNAMED\n"})}),"\n",(0,i.jsx)(n.h2,{id:"2-configure-logstash",children:"2. Configure Logstash"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a logstash config file with the below ",(0,i.jsx)(n.a,{href:"#sample-configuration-file",children:"sample configuration"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sample-configuration-file",children:"Sample Configuration file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",children:'input {\n  file {\n    path => "D:/Siglens/SplunkExport.json"\n    start_position => "beginning"\n  }\n}\n\noutput {\n  elasticsearch {\n    hosts => ["http://127.0.0.1:8081/elastic/"]\n    index => "logstash-logs-%{+YYYY.MM.dd}"\n    ilm_enabled => false\n    manage_template => false\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"3-run-logstash",children:"3. Run Logstash"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"bin/logstash -f <<path-of-logstash-config>>"})," in the logstash directory (prepend with sudo on Linux, or run as Administrator on Windows)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h3,{id:"linux-based-systems-1",children:"Linux based systems"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Assuming the config is in the Logstash directory\nsudo bin/logstash -f ./logstash_config.conf\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h3,{id:"windows-1",children:"Windows"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Assuming the config is in the Logstash directory\nbin/logstash -f ./logstash_config.conf\n"})}),"\n"]}),"\n"]})]})}function c(s={}){const{wrapper:n}={...(0,a.a)(),...s.components};return n?(0,i.jsx)(n,{...s,children:(0,i.jsx)(d,{...s})}):d(s)}},1151:(s,n,e)=>{e.d(n,{Z:()=>l,a:()=>o});var i=e(7294);const a={},t=i.createContext(a);function o(s){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof s?s(n):{...n,...s}}),[n,s])}function l(s){let n;return n=s.disableParentContext?"function"==typeof s.components?s.components(a):s.components||a:o(s.components),i.createElement(t.Provider,{value:n},s.children)}}}]);