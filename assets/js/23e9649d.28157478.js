"use strict";(self.webpackChunksiglens_docs=self.webpackChunksiglens_docs||[]).push([[5914],{8958:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var s=i(5893),t=i(1151);const l={},a="Filebeat",o={id:"log-ingestion/filebeat",title:"Filebeat",description:"Ingesting logs into Siglens using Filebeat",source:"@site/docs/log-ingestion/filebeat.md",sourceDirName:"log-ingestion",slug:"/log-ingestion/filebeat",permalink:"/siglens-docs/log-ingestion/filebeat",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Fluentd",permalink:"/siglens-docs/log-ingestion/fluentd"},next:{title:"Promtail",permalink:"/siglens-docs/log-ingestion/promtail"}},r={},d=[{value:"1. Install Filebeat",id:"1-install-filebeat",level:2},{value:"Linux based Systems",id:"linux-based-systems",level:3},{value:"Windows",id:"windows",level:3},{value:"2. Configure Filebeat",id:"2-configure-filebeat",level:2},{value:"Sample Configuration File",id:"sample-configuration-file",level:3},{value:"3. Run Filebeat",id:"3-run-filebeat",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"filebeat",children:"Filebeat"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Ingesting logs into Siglens using Filebeat"})}),"\n",(0,s.jsx)(n.p,{children:"Filebeat is a lightweight, open-source log shipper from Elastic that forwards and centralizes log data. Installed as an agent on your servers, Filebeat monitors the log files or locations that you specify, collects log events, and forwards them to either Elasticsearch or Logstash for indexing."}),"\n",(0,s.jsx)(n.p,{children:"In this guide, we will walk through the process of using Filebeat to send logs to Siglens."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f"," ",(0,s.jsx)(n.strong,{children:"Note:"})," For Linux Systems, the Filebeat might not work due to the Go version used in the specific Filebeat version, which prevents the creation of a new thread on Linux OS. The related issue can be found ",(0,s.jsx)(n.a,{href:"https://github.com/docker-library/golang/issues/467",children:"here"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"1-install-filebeat",children:"1. Install Filebeat"}),"\n",(0,s.jsxs)(n.p,{children:["Download the ",(0,s.jsx)(n.a,{href:"https://www.elastic.co/downloads/past-releases/filebeat-oss-7-9-3",children:(0,s.jsx)(n.code,{children:"filebeat-oss-7.9.3"})})," version and extract it to the appropriate directory based on your OS."]}),"\n",(0,s.jsx)(n.h3,{id:"linux-based-systems",children:"Linux based Systems"}),"\n",(0,s.jsx)(n.p,{children:"The installation method depends on the type of Linux distribution you are using."}),"\n",(0,s.jsxs)(n.p,{children:["For Debian-based systems (like Ubuntu), you can use the ",(0,s.jsx)(n.code,{children:".deb"})," package with the following command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo dpkg -i filebeat-oss-7.9.3-amd64.deb\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For Red Hat-based systems (like CentOS or Fedora), you would use the ",(0,s.jsx)(n.code,{children:".rpm"})," package."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo rpm -ivh filebeat-oss-7.9.3-x86_64.rpm\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For other Linux based systems, you would use the ",(0,s.jsx)(n.code,{children:".tar.gz"})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tar xzvf filebeat-oss-7.9.3-linux-x86_64.tar.gz\n"})}),"\n",(0,s.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Download the Zip version, extract the contents into ",(0,s.jsx)(n.code,{children:"C:\\Program Files"}),", rename the directory to Filebeat, and run the following commands as an Administrator to install Filebeat as a Windows service:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"PS > cd 'C:\\Program Files\\Filebeat'\nPS C:\\Program Files\\Filebeat> .\\install-service-filebeat.ps1\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["More details about the installation process can be found ",(0,s.jsx)(n.a,{href:"https://www.elastic.co/guide/en/beats/filebeat/7.9/filebeat-installation-configuration.html",children:"here"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-configure-filebeat",children:"2. Configure Filebeat"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a Filebeat config file with the below ",(0,s.jsx)(n.a,{href:"#sample-configuration-file",children:"sample configuration"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["If you are looking for a sample log dataset you can download it from ",(0,s.jsx)(n.a,{href:"https://github.com/siglens/pub-datasets/releases/download/v1.0.0/2kevents.json.tar.gz",children:"here"})," and untar it."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sample-configuration-file",children:"Sample Configuration File"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"filebeat.inputs:\n  - type: log\n    enabled: true\n    paths:\n      - C:\\Program Files\\Filebeat\\2kevents.json # Ensure this is the correct path\n\noutput.elasticsearch:\n  # Custom Elasticsearch endpoint\n  hosts: ['http://localhost:8081/elastic/']\n  index: 'filebeat-ind-0' # Custom index name\n\n# Template settings (adjust if you're managing templates externally)\n# setup.template.name: \"filebeat\"\n# setup.template.pattern: \"filebeat-ind-*\"\n\n# Disable template management\nsetup.template.enabled: false\n\n# Disable ilm\nsetup.ilm.enabled: false\n# Set log level as debug for more detailed logging.\n# logging.level: debug\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3-run-filebeat",children:"3. Run Filebeat"}),"\n",(0,s.jsx)(n.p,{children:"For Linux, navigate to the Filebeat directory and run"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo filebeat -e -c /home/filebeat-config/filebeat.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you've installed Filebeat by extracting it from a ",(0,s.jsx)(n.code,{children:".tar.gz"})," file, or if filebeat is not in your PATH for any other reason, you might need to provide the full path to the filebeat binary, like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo ./filebeat-oss-7.9.3-linux-x86_64/filebeat -e -c /home/filebeat-config/filebeat.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For Windows, open a PowerShell prompt as an Administrator, navigate to ",(0,s.jsx)(n.code,{children:"C:\\Program Files\\Filebeat"}),", and run"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:".\\filebeat.exe -e -c D:\\Siglens\\filebeat_elasticsearch.yml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"-e"})," argument is optional and is used for logging."]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>a});var s=i(7294);const t={},l=s.createContext(t);function a(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);